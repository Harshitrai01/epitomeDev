<template>
    <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
    </template>
    <template if:false={isLoading}>
    <lightning-card title="Send Payment Link" icon-name="utility:link">
        <!-- Header -->
        <div class="header slds-p-around_medium">
            <h2 class="slds-text-heading_medium">Payment Link Details</h2>
            <p class="slds-text-body_small">Fill in the details below to generate a payment link.</p>
        </div>

        <!-- Body Content -->
        <div class="slds-grid slds-wrap slds-p-around_medium">
            <div class="slds-col slds-size_1-of-1 slds-m-bottom_medium">
                <lightning-combobox
                name="contacts"
                label="Select Contact"
                placeholder="Select Contact From Here..."
                options={contacts}
                value={selectedContactId}
                onchange={handleContactSelection}
            ></lightning-combobox>
            </div>

            <!-- Editable Contact Details -->
            <div class="slds-col slds-size_1-of-2 slds-p-right_small">
                <lightning-input
                    label="Email"
                    value={email}
                    type="email"
                    onchange={handleEmailChange}
                ></lightning-input>
            </div>
            <div class="slds-col slds-size_1-of-2 slds-p-left_small">
                <lightning-input
                    label="Phone"
                    value={phone}
                    type="tel"
                    onchange={handlePhoneChange}
                ></lightning-input>
            </div>

            <!-- Additional Input Fields -->
            <div class="slds-col slds-size_1-of-2 slds-p-right_small slds-m-top_small">
                <lightning-input
                    label="Amount"
                    value={amount}
                    type="number"
                    step="any"
                    onchange={handleAmountChange}
                ></lightning-input>
            </div>
            <div class="slds-col slds-size_1-of-2 slds-p-left_small slds-m-top_small">
                <lightning-input
                    label="Payment Link Expiry Time (In Minutes)"
                    value={time}
                    type="number"
                    onchange={handleTimeChange}
                ></lightning-input>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer slds-p-around_medium slds-text-align_center">
            <lightning-button
                label="Send Link"
                variant="brand"
                onclick={handleSendLink}
            ></lightning-button>
        </div>
    </lightning-card>
    </template>
</template>